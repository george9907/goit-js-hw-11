{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import { inputSearch, showLoader } from '../main';\n\n\nexport function pixabayPhoto() {\n    const formValue = inputSearch.value.trim().split(',').join('+');\n    const searchParams = new URLSearchParams({\n        key: \"43219571-0a26e2304ee50d7f75a2b614a\",\n        q: [formValue],\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n    showLoader();\n    return fetch(`https://pixabay.com/api/?${searchParams}`).then(res => res.json())\n        .then((res) => {\n            if (!res.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }\n        );\n}","import { pixabayPhoto } from './js/pixabay-api';\n// import { renderPhotos } from './js/render-functions';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector('.search-form');\nexport const inputSearch = form.elements.search;\nexport const photosGallery = document.querySelector('.gallery');\nexport const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250\n});\nconst preloader = document.querySelector('.loader');\npreloader.style.display = 'none';\n\nexport const showLoader = () => {\n    preloader.style.display = 'flex';\n};\nconst hideLoader = () => {\n    preloader.style.display = 'none';\n};\n\n\nform.addEventListener('submit', sendForm);\n\nfunction sendForm(e) {\n    e.preventDefault();\n    photosGallery.innerHTML = \"\";\n    \n    const input = evt.target.elements.search.value.trim();\n    if (input !== '') {\n        window.onload = () => {\n            pixabayPhoto()\n                .then((photos) => {\n                    renderPhotos(photos.hits);\n                    hideLoader();\n                })\n                .catch((error) => {\n                    console.log(error);\n                    hideLoader();\n                    iziToast.error({\n                        theme: 'dark',\n                        backgroundColor: '#EF4040',\n                        progressBarColor: '#B51B1B',\n                        message: 'Sorry, an error occurred while loading. Please try again!',\n                        messageColor: '#FAFAFB',\n                        position: 'topRight',\n                    });\n                });\n        }\n        window.onload();\n            form.reset();\n        } else {\n            iziToast.show({\n                theme: 'dark',\n                backgroundColor: '#EF4040',\n                progressBarColor: '#B51B1B',\n                message: 'Please complete the field!',\n                messageColor: '#FAFAFB',\n                position: 'topRight',\n            });\n        }\n    }\n"],"names":["pixabayPhoto","formValue","inputSearch","searchParams","showLoader","res","form","photosGallery","SimpleLightbox","preloader","hideLoader","sendForm","e","photos","error","iziToast"],"mappings":"6vBAGO,SAASA,GAAe,CAC3B,MAAMC,EAAYC,EAAY,MAAM,KAAI,EAAG,MAAM,GAAG,EAAE,KAAK,GAAG,EACxDC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,CAACF,CAAS,EACb,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAAG,IACO,MAAM,4BAA4BD,CAAY,EAAE,EAAE,KAAKE,GAAOA,EAAI,MAAM,EAC1E,KAAMA,GAAQ,CACX,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAM,SAAS,MAAM,EAEnC,OAAO,SAAS,MACnB,CACT,CACA,CCbA,MAAMC,EAAO,SAAS,cAAc,cAAc,EACrCJ,EAAcI,EAAK,SAAS,OAC5BC,EAAgB,SAAS,cAAc,UAAU,EACtC,IAAIC,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAClB,CAAC,EACD,MAAMC,EAAY,SAAS,cAAc,SAAS,EAClDA,EAAU,MAAM,QAAU,OAEnB,MAAML,EAAa,IAAM,CAC5BK,EAAU,MAAM,QAAU,MAC9B,EACMC,EAAa,IAAM,CACrBD,EAAU,MAAM,QAAU,MAC9B,EAGAH,EAAK,iBAAiB,SAAUK,CAAQ,EAExC,SAASA,EAASC,EAAG,CACjBA,EAAE,eAAc,EAChBL,EAAc,UAAY,GAEZ,IAAI,OAAO,SAAS,OAAO,MAAM,SACjC,IACV,OAAO,OAAS,IAAM,CAClBP,EAAc,EACT,KAAMa,GAAW,CACd,aAAaA,EAAO,IAAI,EACxBH,GACpB,CAAiB,EACA,MAAOI,GAAU,CACd,QAAQ,IAAIA,CAAK,EACjBJ,IACAK,EAAS,MAAM,CACX,MAAO,OACP,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,4DACT,aAAc,UACd,SAAU,UAClC,CAAqB,CACrB,CAAiB,CACR,EACD,OAAO,OAAM,EACTT,EAAK,MAAK,GAEVS,EAAS,KAAK,CACV,MAAO,OACP,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,6BACT,aAAc,UACd,SAAU,UAC1B,CAAa,CAEb"}